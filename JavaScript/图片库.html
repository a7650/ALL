<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		
		<style>
			#picul{	
				border: 1px solid black;
				margin: 0 auto;
				width: 200px;
				height: 50px;	
				
			}
			
			#picul>li{
				float: left;
				list-style: none;
			}
			#picul>li>a>img{
				width: 50px;
				height: 50px;
			}
			#picul>li>a img:hover{
				border: 1px solid red;
			}
	
		</style>

	</head>
	<body>
		
		<ul id="picul">
			<li><a href="img/1.jpg"  title="Aimg" accesskey="1"><img src="img/1.jpg"/></a></li>
			<li><a href="img/2.jpg"  title="Bimg" accesskey="2"><img src="img/2.jpg"/></a></li>
			<li><a href="img/3.jpg"  title="Cimg" accesskey="3"><img src="img/3.jpg"/></a></li>
		</ul>
		<script>
			
			
	//事件加载函数
	function addLoadEvent(func){
		var oldonload=window.onload;
		if(typeof window.onload != 'function') window.onload=func;
		else{
			window.onload=function(){
				oldonload();
				func();
			}
		}
	}
	
	
	function insertAfter(newElement,targetElement){
		var parent=targetElement.parentNode;
		if(parent.lastChild==targetElement){
			parent.appendChild(newElement);
		}
		else{
			parent.insertBefore(newElement,targetElement.nextSibling)
		}
	}
	
	function placeholder(){
		var placeholder=document.createElement("img");
		placeholder.setAttribute("src","img/1.jpg");
		placeholder.setAttribute("id","placeholder");
		placeholder.setAttribute("alt","123");
		insertAfter(placeholder,document.getElementById("picul"));
		var description= document.createElement("p");
		description.setAttribute("id","description");
		var txt=document.createTextNode("some picture");
		description.appendChild(txt);
		insertAfter(description,document.getElementById("picul"));
		
	}

	function showPic(tobj){
				var source=tobj.getAttribute("href");
				var placeholder=document.getElementById("placeholder");
				placeholder.setAttribute("src",source);				
				var text=tobj.getAttribute("title");
				var description=document.getElementById("description");
				description.innerHTML=text;
			}
			
		function prepareGallery()	{
				if(!document.getElementById) return false;
				if(!document.getElementsByTagName)return false;
				if(!document.getElementById("picul")) return false;
				var link=document.getElementById("picul").getElementsByTagName("a");
				for(i in link){
					link[i].onclick=function (){
						showPic(this);
						return false;
					}
				}
				
			}

	//加载函数
	addLoadEvent(prepareGallery);
	addLoadEvent(placeholder);
		</script>

		
	</body>
</html>
