<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="jquery-3.3.1.js"></script>
		<style>
			div .sp{
				width: 100px;
				height: 100px;
				margin-right: 10px;
				background-color: black;
				color: white;
				float: left;
				position: relative;								
			}
			.sp_container{
				position: absolute;
				bottom: 0;
				left: 50%;
				margin-left: -220px;
				width: 440px;
				height: 100px;								
			}			
		</style>
	</head>
	<body>

		<div class="sp_container">			
			<div class="sp">1</div>
			<div class="sp">2</div>
			<div class="sp">3</div>
			<div class="sp">4</div>
			
		</div>
		<ul>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
		</ul>
		
		
		
		
		<script>
			jQuery.prototype.myRandom=function(min,max){
				var choices=max-min+1;
				return Math.floor(Math.random()*choices+min)
			}
			var cont={}, a=0;
			
			$(document).ready(function(){						
				$(window).keydown(function(event){		
					for(var key in cont){
						a++;
					}
						if(a==0){
							$($(".sp")[event.keyCode-49]).stop(true).animate({height:200,top:-100},100);
							cont[event.keyCode]=1;
					}					
				});
				window.onkeyup=function(event){
					if(cont[event.keyCode]!=null){
					var code=event.keyCode-49,
						cur_li=$($("li")[code]),
						li_text=cur_li.text();
					$($(".sp")[code]).stop(true).animate({height:100,top:0},100);
					cur_li.text(--li_text);
					if(cur_li.text()==0){
						cur_li.li_inde();
						 
					}
					cont={};
					a=0;
					}
								
					
				}
				
				
				
				//
				jQuery.prototype.li_inde=function(){
					$(this).text($(this).myRandom(2,9));
				};
				for(var i=0;i<4;i++){
					$($("li")[i]).li_inde();
				}				
			});
			
		</script>
	</body>
</html>
